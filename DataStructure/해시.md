# 해시

## 정의와 성질
- 키에 대응하는 값을 저장하는 자료구조이다.

### 성질
1. 원소의 삽입/삭제가 `O(1)`이다.
2. 원소의 탐색이 `O(1)`이다.
3. 원소의 변경이 `O(1)`이다.
4. 해시 자료구조에서는 해시 함수라는 것이 사용된다.
   - 임의 길이의 데이터를 고정된 길이의 데이터로 대응시키는 함수이다.

## 충돌 회피 
- 서로 다른 키가 같은 해시 값을 가질 경우 에러가 발생하게되는데 이를 충돌이라한다.
- 해시 함수 자체의 목적이 원래 함수의 입력으로 주어지는 정의역이 공간이 너무 커서 이 범위를 줄이는것이 목표이므로 충돌이 발생하는 자체를 막을 방법은 딱히 없다.
- 해시 자료구조는 이상적인 상황에서는 `O(1)`이지만 충돌이 빈번할수록 성능이 저하되고 모든 키의 해시 값이 같은 최악의 상황에서는 `O(N)`이 걸릴수도 있다.
  - 따라서 각 키의 해시 값이 균등하게 퍼지도록 해야 성능이 좋아진다.
- 이를 해결하기위해 충돌을 회피하기 위한 방법들을 고안하였는데 먼저, Chaining에 대해 알아보도록 하자.

### Chaining
- 각 인덱스마다 연결 리스트를 하나씩 둔다. 연결 리스트가 아닌 동적 배열을 사용해도 상관없다.
- 연결 리스트를 두면 충돌이 발생하여도 연결 리스트로 또 연결하면 되기 때문에 충돌 회피가 가능하다.
- 이를 활용하여 탐색/변경/삭제가 문제 없이 가능해진다.

### Open Addressing
- 같은 키를 가르키면 그 다음 인덱스로 넘어가서 키를 저장하는 방식이다.
- 이 방법을 사용할 때는 삭제시에 그냥 값을 날려서 빈 칸을 만드는 것이 아니라, 해당 칸에 쓰레기값을 넣어주거나 별도의 배열을 두는식의 방식으로 해당 칸이 빈칸이 아니라 원래 값이 있었지만 제거되었음을 명시할 필요가 있다.
- 그냥 값을 날려 빈칸으로 만들면 나중에 탐색을 할 시 값이 존재함에도 불구하고 값이 없다고 그냥 넘어가는 경우가 발생할 수 있기 때문이다.

1. Linear Probing
   1. 충돌 발생 시 오른쪽으로 한칸씩 이동하는 방ㅅ힉
   2. 캐시 적중률이 높다.
   3. 클러스터링이 발생하여 성능에 영향을 미칠 수 있다.
2. Quadratic Probing
   1. 충돌 발생 시 오른쪽으로 1,3,5...칸 씩 이동하는 방식
   2. 캐시 적중률이 나쁘지 않다. 클러스터링을 어느정도 회피 가능하다.
   3. 해시 값이 같을경우 여전히 클러스터링이 발생한다.
3. Double Hashing
   1. 충돌 발생시 이동할 칸의 수를 새로운 해시 함수로 계산하는 방식
   2. 클러스터링을 효과적으로 회피 가능하다.
   3. 캐시 적중률이 낮다.