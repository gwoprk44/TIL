# HTTP웹 기본지식

# 목차
- [HTTP웹 기본지식](#http웹-기본지식)
- [목차](#목차)
- [인터넷 네트워크](#인터넷-네트워크)
    - [인터넷통신](#인터넷통신)
    - [IP(인터넷 프로토콜)](#ip인터넷-프로토콜)
    - [TCP와 UDP](#tcp와-udp)
    - [PORT](#dns)
    - [DNS](#port)
- [URI와 웹 브라우저 요청 흐름](#uri와-웹-브라우저-요청-흐름)
    - [URI]
    - [웹 브라우저 요청 흐름]


# 인터넷 네트워크

## 인터넷통신

Http를 위해 네트워크 기본 지식 필요
클라이언트와 서버가 바로 옆에 붙어있으면 상관없는데, 중간에 인터넷망이 있어 데이터를 안전하게 전송하기 위한 방법을 생각해야 한다.

## IP(인터넷 프로토콜)

클라이언트와 서버에 IP 주소를 부여

지정한 IP 주소(IP Address)에 데이터 전달
패킷(Packet)이라는 통신 단위로 데이터 전달
IP패킷 정보: 출발지 IP, 목적지IP, 전송 데이터, 기타...
클라이언트와 서버 사이에 있는 인터넷 망은 수많은 노드로 구성되어 있다.
그중에서 목적지IP로 갈 수 있는 노드들을 통해 데이터가 전송된다.

클라이언트와 서버의 패킷 전달 경로는 서로 다를 수 있다.

> IP 프로토콜의 한계

비연결성 : 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
클라이언트는 대상 서버가 패킷을 받을 수 있는 상태인지 모른다. 그리고 서버가 서비스 불능상태여도 일단 패킷을 전송하고 사라진다.

비신뢰성 : 중간에 패킷이 사라지면? 패킷이 순서대로 안오면?
중간에 노드가 꺼지거나 문제가 생기면 패킷이 소실된다.

프로그램 구분 : 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면?
패킷의 용량이 크면 여러패킷으로 끊어서 보내는데 (문자의 경우 1500바이트 정도), 최단노드를 찾아서 보내므로 순서가 바껴서 도착할수도 있다.
예) 클라이언트 1: Hello, 2: world! -> 서버 1: world!, 2: Hello

이 문제들을 TCP가 해결해 준다.

## TCP와 UDP

인터넷 프로토콜 스택의 4계층
애플리케이션 계층 - HTTP, FTP
전송 계층 - TCP, UDP
인터넷 계층 - IP
네트워크 인터페이스 계층

예) 채팅프로그램 사용시
1. 프로그램이 Hello world! 메시지 생성
2. SOCKET 라이브러리를 통해 전달
3. TCP 정보 생성, 메시지 데이터 포함
4. IP 패킷 생성, TCP 데이터 포함
5. LAN카드로 서버에 보냄(Ethernet frame)

TCP/IP 패킷 정보: IP 패킷 정보 안에 TCP 패킷 정보가 있다.
TCP 세그먼트: 출발지 port, 목적지 port, 전송 제어, 순서, 검증 정보

> TCP 특징

전송 제어 프로토콜 (Transmission Control Protocol)

연결지향 - TCP 3way handshake(가상 연결): 진짜 연결이 된게 아니고 개념적으로만 연결됨

데이터 전달 보증: 클라이언트가 서버로 데이터 전송을 하면 서버는 클라이언트로 데이터 잘 받았다고 보낸다.

순서 보장: 순서 안맞으면 다시보내라고 요청보냄
신뢰할 수 있는 프로토콜

현재는 대부분 TCP 사용

TCP 3way handshake
1. 클라이언트에서 서버로 SYN 보냄
2. 서버에서 클라이언트로 SYN+ACK 보냄
3. 클라이언트에서 서버로 ACK 보냄
4. 클라이언트에서 서버로 데이터 전송

1,2,3: connect 과정

SYN: 접속 요청, ACK: 요청 수락

> UDP 특징

사용자 데이터그램 프로토콜 (User Datagram Protocol)

하얀 도화지에 비유(기능이 거의 없음)

연결지향 - TCP 3 way handshake X
데이터 전달 보증 X
순서 보장 X

데이터 전달 및 순서가 보장되지 않지만, 단순하고 빠름


IP와 거의 같다. PORT, 체크섬 정도만 추가
애플리케이션에서 추가 작업 필요

port: 하나의 IP에서 여러 애플리케이션을 사용할때(게임, 음악 등등) 어떤게 게임용이고 어떤게 음악용 패킷인지 구분하는 역할

체크섬: 이 메세지에 대해 맞는지 검증해주는 데이터 정도 추가되어있음

TCP는 좋지만 전송속도를 빠르게할 수 없고 데이터 양도 많아진다. 그리고 TCP는 손을 못대기 때문에 UDP위에 내가원하는것을 만들 수 있다. http3에서 udp protocol 사용.

## PORT


클라이언트에서 한번에 둘 이상의 서버와 연결 할때 구분하기 위해 사용한다.
TCP/IP 패킷 정보에는 출발지 port와 목적지 port가 포함되어있다.

예) 클라이언트 100.100.100.1 게임(8090), 화상통화(21000), 웹브라우저 요청(10010)
서버 200.200.200.2 게임(11220), 화상통화 (32202), 서버 200.200.200.3 웹 브라우저 요청(80)

100.100.100.1 게임(8090)- 200.200.200.2 게임(11220)
100.100.100.1 화상통화(21000)- 200.200.200.2 화상통화(32202)
100.100.100.1 웹브라우저 요청(10010)- 200.200.200.3 웹브라우저 요청(80)

0~65535 할당 가능

0~1023 잘 알려진 포트, 사용하지 않는 것이 좋음

FTP - 20,21

TELNET - 23

HTTP - 80

HTTPS - 443

## DNS

IP는 기억하기 어렵다. IP: 100.100.100.1

IP는 변경될 수 있다. -> IP: 100.100.100.2

DNS
도메인 네임 시스템 (Domain Name System)

전화번호부
도메인 명을 IP주소로 변환

# URI와 웹 브라우저 요청 흐름